{"ast":null,"code":"import _defineProperty from \"/var/www/html/soofi/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/var/www/html/soofi/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/soofi/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/soofi/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/soofi/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/soofi/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/soofi/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/soofi/client/src/views/Login/Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { PostData } from '../../services/PostData';\nimport './Login.css';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.state = {\n      username: '',\n      password: '',\n      redirectToReferrer: false\n    };\n    _this.login = _this.login.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"login\",\n    value: function login() {\n      var _this2 = this;\n\n      if (this.state.username && this.state.password) {\n        PostData('login', this.state).then(function (result) {\n          var responseJson = result;\n\n          if (responseJson.userData) {\n            sessionStorage.setItem('userData', JSON.stringify(responseJson));\n\n            _this2.setState({\n              redirectToReferrer: true\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirectToReferrer) {\n        return React.createElement(Redirect, {\n          to: '/home',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        });\n      }\n\n      if (sessionStorage.getItem('userData')) {\n        return React.createElement(Redirect, {\n          to: '/home',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"row\",\n        id: \"Body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"medium-5 columns left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        className: \"button success\",\n        value: \"Login\",\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Registration\")));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/var/www/html/soofi/client/src/views/Login/Login.js"],"names":["React","Component","Redirect","PostData","Login","state","username","password","redirectToReferrer","login","bind","onChange","then","result","responseJson","userData","sessionStorage","setItem","JSON","stringify","setState","e","target","name","value","getItem"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {PostData} from '../../services/PostData';\nimport './Login.css';\n\nclass Login extends Component {\n\n  constructor(){\n    super();\n    this.state = {\n     username: '',\n     password: '',\n     redirectToReferrer: false\n    };\n    this.login = this.login.bind(this);\n    this.onChange = this.onChange.bind(this);\n\n  }\n\n  login() {\n    if(this.state.username && this.state.password){\n      PostData('login',this.state).then((result) => {\n       let responseJson = result;\n       if(responseJson.userData){         \n         sessionStorage.setItem('userData',JSON.stringify(responseJson));\n         this.setState({redirectToReferrer: true});\n       }\n      });\n    }\n   }\n\n  onChange(e){\n    this.setState({[e.target.name]:e.target.value});\n   }\n   \n  render() {\n\n    if (this.state.redirectToReferrer) {\n      return (<Redirect to={'/home'}/>)\n    }\n   \n    if(sessionStorage.getItem('userData')){\n      return (<Redirect to={'/home'}/>)\n    }\n\n     return (\n      <div className=\"row\" id=\"Body\">\n        <div className=\"medium-5 columns left\">\n        <h4>Login</h4>\n        <label>Username</label>\n        <input type=\"text\" name=\"username\" placeholder=\"Username\" onChange={this.onChange}/>\n        <label>Password</label>\n        <input type=\"password\" name=\"password\"  placeholder=\"Password\" onChange={this.onChange}/>\n        <input type=\"submit\" className=\"button success\" value=\"Login\" onClick={this.login}/>\n        <a href=\"/signup\">Registration</a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}